# Task Management API

A modern, RESTful API for task management built with FastAPI, SQLModel, and Pydantic. This API provides comprehensive task tracking with comments, labels, and activity logging capabilities.

---

## ğŸš€ Features

- **Task Management**: Create, read, update, and delete tasks with status tracking
- **Priority System**: Organize tasks by priority (Low, Medium, High)
- **Status Workflow**: Track task progress (TODO, In Progress, Done)
- **Comments**: Add threaded discussions to tasks
- **Labels**: Categorize tasks with customizable color-coded labels
- **Activity Logging**: Automatic tracking of all task-related actions
- **Due Dates**: Set and track task deadlines

---

## ğŸ“‹ Tech Stack

- **Framework**: FastAPI
- **ORM**: SQLModel (SQLAlchemy + Pydantic)
- **Validation**: Pydantic v2
- **Database**: SQLite/PostgreSQL (configurable)
- **Python**: 3.10+

---

## ğŸ“ Project Structure

```
task-management-api/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ models/              # SQLModel database models
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ task.py          # Task model with enums
â”‚   â”‚   â”œâ”€â”€ comment.py       # Comment model
â”‚   â”‚   â”œâ”€â”€ label.py         # Label & TaskLabel models
â”‚   â”‚   â””â”€â”€ activity_log.py  # Activity log model
â”‚   â”‚
â”‚   â””â”€â”€ schemas/             # Pydantic schemas for validation
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ task.py          # Task CRUD schemas
â”‚       â”œâ”€â”€ comment.py       # Comment CRUD schemas
â”‚       â”œâ”€â”€ label.py         # Label CRUD schemas
â”‚       â””â”€â”€ activity_log.py  # Activity log read schema
â”‚
â”œâ”€â”€ DAYWISE_TASKS.md         # Development task breakdown
â””â”€â”€ README.md                # This file
```

---

## ğŸ—„ï¸ Database Schema

### Core Models

#### Task
- **Fields**: id, title, description, status, priority, due_date, created_at, updated_at
- **Relationships**: comments, labels (many-to-many), activity_logs
- **Enums**: TaskStatus (TODO, IN_PROGRESS, DONE), TaskPriority (LOW, MEDIUM, HIGH)

#### Comment
- **Fields**: id, content, author, task_id, created_at, updated_at
- **Relationships**: task (many-to-one)

#### Label
- **Fields**: id, name, color
- **Relationships**: tasks (many-to-many via TaskLabel)

#### TaskLabel (Junction Table)
- **Fields**: task_id, label_id
- **Purpose**: Many-to-many relationship between tasks and labels

#### ActivityLog
- **Fields**: id, task_id, action, description, performed_by, created_at
- **Relationships**: task (many-to-one)
- **Purpose**: Audit trail for task changes

---

## ğŸ“ API Schemas

### Task Schemas
- `TaskCreate`: Create new tasks with optional label assignments
- `TaskUpdate`: Partial updates to existing tasks
- `TaskRead`: Basic task response
- `TaskReadWithRelations`: Task with comments and labels included

### Comment Schemas
- `CommentCreate`: Add comments to tasks
- `CommentUpdate`: Edit comment content
- `CommentRead`: Comment response with metadata

### Label Schemas
- `LabelCreate`: Create color-coded labels
- `LabelUpdate`: Modify label name or color
- `LabelRead`: Label response

### Activity Log Schema
- `ActivityLogRead`: Read-only activity log entries

---

## ğŸ”§ Installation

### Prerequisites
- Python 3.10 or higher
- pip or poetry for package management

### Setup

1. **Clone the repository**
```bash
git clone <repository-url>
cd task-management-api
```

2. **Create virtual environment**
```bash
python -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate
```

3. **Install dependencies**
```bash
pip install fastapi sqlmodel pydantic uvicorn
```

4. **Run the application**
```bash
uvicorn app.main:app --reload
```

The API will be available at `http://localhost:8000`

---

## ğŸ“š API Documentation

Once the server is running, access:
- **Swagger UI**: http://localhost:8000/docs
- **ReDoc**: http://localhost:8000/redoc

---

## ğŸ¯ Usage Examples

### Create a Task
```python
POST /tasks
{
  "title": "Implement authentication",
  "description": "Add JWT-based authentication",
  "status": "todo",
  "priority": "high",
  "due_date": "2025-12-31T23:59:59",
  "label_ids": [1, 2]
}
```

### Add a Comment
```python
POST /comments
{
  "content": "Started working on this task",
  "author": "John Doe",
  "task_id": 1
}
```

### Create a Label
```python
POST /labels
{
  "name": "Bug",
  "color": "#FF0000"
}
```

### Update Task Status
```python
PATCH /tasks/1
{
  "status": "in_progress"
}
```

---

## ğŸ” Validation Rules

### Task
- Title: 1-200 characters (required)
- Status: Must be one of: todo, in_progress, done
- Priority: Must be one of: low, medium, high

### Comment
- Content: 1-1000 characters (required)
- Author: 1-100 characters (required)

### Label
- Name: 1-50 characters (required, unique)
- Color: Valid hex color code (e.g., #FF5733)

---

## ğŸ—ï¸ Development Status

### âœ… Completed
- [x] Database models (SQLModel)
- [x] Pydantic schemas with validation
- [x] Model relationships and foreign keys
- [x] Enum definitions for status and priority
- [x] Activity logging structure

### ğŸš§ In Progress
- [ ] API endpoints (CRUD operations)
- [ ] Database initialization and migrations
- [ ] Business logic and services layer

### ğŸ“… Planned
- [ ] Authentication & authorization
- [ ] API rate limiting
- [ ] Pagination and filtering
- [ ] Search functionality
- [ ] Unit and integration tests
- [ ] Docker containerization
- [ ] CI/CD pipeline

---

## ğŸ—ï¸ High-Level Design (HLD)

![High-Level Design Diagram](docs/HLD_dig.png)

### System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      CLIENT LAYER                         â”‚
â”‚         (Browser / Mobile / Postman / API Client)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚ HTTP/REST
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      API GATEWAY LAYER                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              FastAPI Application (ASGI)                   â”‚  â”‚
â”‚  â”‚  - Uvicorn Server (Async)                                â”‚  â”‚
â”‚  â”‚  - CORS Middleware                                       â”‚  â”‚
â”‚  â”‚  - Request/Response Handling                             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    VALIDATION LAYER                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                  Pydantic Schemas                         â”‚  â”‚
â”‚  â”‚  - TaskCreate/Update/Read                                â”‚  â”‚
â”‚  â”‚  - CommentCreate/Update/Read                             â”‚  â”‚
â”‚  â”‚  - LabelCreate/Update/Read                               â”‚  â”‚
â”‚  â”‚  - Field Validation & Type Checking                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   BUSINESS LOGIC LAYER                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              API Endpoints (Routes)                       â”‚  â”‚
â”‚  â”‚  - Task CRUD Operations                                  â”‚  â”‚
â”‚  â”‚  - Comment Management                                    â”‚  â”‚
â”‚  â”‚  - Label Management                                      â”‚  â”‚
â”‚  â”‚  - Activity Log Creation                                 â”‚  â”‚
â”‚  â”‚  - Relationship Handling                                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ORM LAYER                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                   SQLModel (ORM)                          â”‚  â”‚
â”‚  â”‚  - Task Model                                            â”‚  â”‚
â”‚  â”‚  - Comment Model                                         â”‚  â”‚
â”‚  â”‚  - Label Model                                           â”‚  â”‚
â”‚  â”‚  - TaskLabel (Junction Table)                            â”‚  â”‚
â”‚  â”‚  - ActivityLog Model                                     â”‚  â”‚
â”‚  â”‚  - Session Management                                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚ SQL Queries
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     DATABASE LAYER                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              SQLite / PostgreSQL                          â”‚  â”‚
â”‚  â”‚  Tables: tasks, comments, labels,                        â”‚  â”‚
â”‚  â”‚          task_labels, activity_logs                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### Request-Response Flow (CREATE TASK Example)

![Request-Response Flow](docs/REQ_RES.png)

```
CLIENT                 FASTAPI              PYDANTIC           BUSINESS         SQLMODEL          DATABASE
  â”‚                      â”‚                     â”‚                 LOGIC             â”‚                 â”‚
  â”‚  POST /tasks         â”‚                     â”‚                   â”‚               â”‚                 â”‚
  â”‚  {title, status}     â”‚                     â”‚                   â”‚               â”‚                 â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                     â”‚                   â”‚               â”‚                 â”‚
  â”‚                      â”‚                     â”‚                   â”‚               â”‚                 â”‚
  â”‚                      â”‚  Parse Request      â”‚                   â”‚               â”‚                 â”‚
  â”‚                      â”‚  Body               â”‚                   â”‚               â”‚                 â”‚
  â”‚                      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                   â”‚               â”‚                 â”‚
  â”‚                      â”‚                     â”‚                   â”‚               â”‚                 â”‚
  â”‚                      â”‚                     â”‚ Validate Fields   â”‚               â”‚                 â”‚
  â”‚                      â”‚                     â”‚ - title: 1-200    â”‚               â”‚                 â”‚
  â”‚                      â”‚                     â”‚ - status: enum    â”‚               â”‚                 â”‚
  â”‚                      â”‚                     â”‚ - priority: enum  â”‚               â”‚                 â”‚
  â”‚                      â”‚                     â”‚                   â”‚               â”‚                 â”‚
  â”‚                      â”‚  TaskCreate Schema  â”‚                   â”‚               â”‚                 â”‚
  â”‚                      â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚               â”‚                 â”‚
  â”‚                      â”‚                     â”‚                   â”‚               â”‚                 â”‚
  â”‚                      â”‚  get_session()      â”‚                   â”‚               â”‚                 â”‚
  â”‚                      â”‚  Dependency         â”‚                   â”‚               â”‚                 â”‚
  â”‚                      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚               â”‚                 â”‚
  â”‚                      â”‚                     â”‚                   â”‚               â”‚                 â”‚
  â”‚                      â”‚                     â”‚                   â”‚ Create Task   â”‚                 â”‚
  â”‚                      â”‚                     â”‚                   â”‚ Object        â”‚                 â”‚
  â”‚                      â”‚                     â”‚                   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                 â”‚
  â”‚                      â”‚                     â”‚                   â”‚               â”‚                 â”‚
  â”‚                      â”‚                     â”‚                   â”‚               â”‚ INSERT INTO     â”‚
  â”‚                      â”‚                     â”‚                   â”‚               â”‚ tasks (...)     â”‚
  â”‚                      â”‚                     â”‚                   â”‚               â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
  â”‚                      â”‚                     â”‚                   â”‚               â”‚                 â”‚
  â”‚                      â”‚                     â”‚                   â”‚               â”‚ Row ID: 1       â”‚
  â”‚                      â”‚                     â”‚                   â”‚               â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚                      â”‚                     â”‚                   â”‚               â”‚                 â”‚
  â”‚                      â”‚                     â”‚                   â”‚ Handle Labels â”‚                 â”‚
  â”‚                      â”‚                     â”‚                   â”‚ (if provided) â”‚                 â”‚
  â”‚                      â”‚                     â”‚                   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                 â”‚
  â”‚                      â”‚                     â”‚                   â”‚               â”‚ INSERT INTO     â”‚
  â”‚                      â”‚                     â”‚                   â”‚               â”‚ task_labels     â”‚
  â”‚                      â”‚                     â”‚                   â”‚               â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
  â”‚                      â”‚                     â”‚                   â”‚               â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚                      â”‚                     â”‚                   â”‚               â”‚                 â”‚
  â”‚                      â”‚                     â”‚                   â”‚ Create        â”‚                 â”‚
  â”‚                      â”‚                     â”‚                   â”‚ ActivityLog   â”‚                 â”‚
  â”‚                      â”‚                     â”‚                   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                 â”‚
  â”‚                      â”‚                     â”‚                   â”‚               â”‚ INSERT INTO     â”‚
  â”‚                      â”‚                     â”‚                   â”‚               â”‚ activity_logs   â”‚
  â”‚                      â”‚                     â”‚                   â”‚               â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
  â”‚                      â”‚                     â”‚                   â”‚               â”‚                 â”‚
  â”‚                      â”‚                     â”‚                   â”‚ session.      â”‚                 â”‚
  â”‚                      â”‚                     â”‚                   â”‚ commit()      â”‚                 â”‚
  â”‚                      â”‚                     â”‚                   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                 â”‚
  â”‚                      â”‚                     â”‚                   â”‚               â”‚ COMMIT          â”‚
  â”‚                      â”‚                     â”‚                   â”‚               â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
  â”‚                      â”‚                     â”‚                   â”‚               â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚                      â”‚                     â”‚                   â”‚               â”‚                 â”‚
  â”‚                      â”‚                     â”‚                   â”‚ Task Object   â”‚                 â”‚
  â”‚                      â”‚                     â”‚                   â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                 â”‚
  â”‚                      â”‚                     â”‚                   â”‚               â”‚                 â”‚
  â”‚                      â”‚  Convert to         â”‚                   â”‚               â”‚                 â”‚
  â”‚                      â”‚  TaskRead Schema    â”‚                   â”‚               â”‚                 â”‚
  â”‚                      â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤               â”‚                 â”‚
  â”‚                      â”‚                     â”‚                   â”‚               â”‚                 â”‚
  â”‚                      â”‚ Serialize to JSON   â”‚                   â”‚               â”‚                 â”‚
  â”‚                      â”‚                     â”‚                   â”‚               â”‚                 â”‚
  â”‚  201 Created         â”‚                     â”‚                   â”‚               â”‚                 â”‚
  â”‚  {id, title, ...}    â”‚                     â”‚                   â”‚               â”‚                 â”‚
  â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                     â”‚                   â”‚               â”‚                 â”‚
  â”‚                      â”‚                     â”‚                   â”‚               â”‚                 â”‚
```

---

### Database Schema & Relationships

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        TASKS             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PK  id (int)             â”‚
â”‚     title (varchar 200)  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     description (text)   â”‚           â”‚
â”‚ IDX status (enum)        â”‚           â”‚ FK: task_id
â”‚ IDX priority (enum)      â”‚           â”‚
â”‚     due_date (datetime)  â”‚           â”‚
â”‚     created_at           â”‚           â”‚
â”‚     updated_at           â”‚           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
               â”‚                       â”‚
               â”‚ 1                     â”‚
               â”‚                       â”‚
               â”‚ N                     â”‚
               â”‚                       â”‚
               â–¼                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚       COMMENTS           â”‚           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤           â”‚
â”‚ PK  id (int)             â”‚           â”‚
â”‚     content (varchar)    â”‚           â”‚
â”‚     author (varchar 100) â”‚           â”‚
â”‚ FK  task_id (int)        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ IDX created_at           â”‚
â”‚     updated_at           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        TASKS             â”‚           â”‚        LABELS            â”‚
â”‚                          â”‚           â”‚                          â”‚
â”‚ PK  id (int)             â”‚           â”‚ PK  id (int)             â”‚
â”‚     title                â”‚           â”‚ UQ  name (varchar 50)    â”‚
â”‚     ...                  â”‚           â”‚ IDX color (varchar 7)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                                      â”‚
           â”‚ 1                                    â”‚ 1
           â”‚                                      â”‚
           â”‚                                      â”‚
           â”‚ N                                    â”‚ N
           â”‚                                      â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚       â”‚
                          â–¼       â–¼
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚     TASK_LABELS          â”‚
                   â”‚   (Junction Table)       â”‚
                   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                   â”‚ PK,FK  task_id (int)     â”‚
                   â”‚ PK,FK  label_id (int)    â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   Many-to-Many Relationship


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        TASKS             â”‚
â”‚                          â”‚
â”‚ PK  id (int)             â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     title                â”‚           â”‚
â”‚     ...                  â”‚           â”‚ FK: task_id
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
           â”‚ 1                         â”‚
           â”‚                           â”‚
           â”‚ N                         â”‚
           â”‚                           â”‚
           â–¼                           â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚     ACTIVITY_LOGS        â”‚           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤           â”‚
â”‚ PK  id (int)             â”‚           â”‚
â”‚ FK  task_id (int)        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ IDX action (varchar 50)  â”‚
â”‚     description (varchar)â”‚
â”‚     performed_by         â”‚
â”‚     created_at           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### Component Interaction Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        FASTAPI APPLICATION                           â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                    main.py (Entry Point)                    â”‚    â”‚
â”‚  â”‚  - FastAPI app instance                                     â”‚    â”‚
â”‚  â”‚  - CORS middleware                                          â”‚    â”‚
â”‚  â”‚  - Lifespan events (startup/shutdown)                       â”‚    â”‚
â”‚  â”‚  - Root & health endpoints                                  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                          â”‚                                          â”‚
â”‚                          â–¼                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                  API Routes (Future)                        â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚    â”‚
â”‚  â”‚  â”‚ Task Routes  â”‚  â”‚Comment Routesâ”‚  â”‚ Label Routes â”‚     â”‚    â”‚
â”‚  â”‚  â”‚ /tasks       â”‚  â”‚ /comments    â”‚  â”‚ /labels      â”‚     â”‚    â”‚
â”‚  â”‚  â”‚ - GET        â”‚  â”‚ - GET        â”‚  â”‚ - GET        â”‚     â”‚    â”‚
â”‚  â”‚  â”‚ - POST       â”‚  â”‚ - POST       â”‚  â”‚ - POST       â”‚     â”‚    â”‚
â”‚  â”‚  â”‚ - PATCH      â”‚  â”‚ - PATCH      â”‚  â”‚ - PATCH      â”‚     â”‚    â”‚
â”‚  â”‚  â”‚ - DELETE     â”‚  â”‚ - DELETE     â”‚  â”‚ - DELETE     â”‚     â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚            â”‚                  â”‚                  â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                  â”‚                  â”‚
             â–¼                  â–¼                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         SCHEMAS LAYER                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚ task.py      â”‚  â”‚ comment.py   â”‚  â”‚ label.py     â”‚              â”‚
â”‚  â”‚ - TaskCreate â”‚  â”‚ - CommentCr. â”‚  â”‚ - LabelCr.   â”‚              â”‚
â”‚  â”‚ - TaskUpdate â”‚  â”‚ - CommentUpd.â”‚  â”‚ - LabelUpd.  â”‚              â”‚
â”‚  â”‚ - TaskRead   â”‚  â”‚ - CommentRd. â”‚  â”‚ - LabelRead  â”‚              â”‚
â”‚  â”‚ - TaskReadWR â”‚  â”‚              â”‚  â”‚              â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                  â”‚                  â”‚
             â–¼                  â–¼                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      DATABASE LAYER                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                    database.py                              â”‚    â”‚
â”‚  â”‚  - engine (SQLite connection)                              â”‚    â”‚
â”‚  â”‚  - create_db_and_tables()                                  â”‚    â”‚
â”‚  â”‚  - get_session() [Dependency]                              â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                          â”‚                                          â”‚
â”‚                          â–¼                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                    MODELS LAYER                             â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚    â”‚
â”‚  â”‚  â”‚ task.py      â”‚  â”‚ comment.py   â”‚  â”‚ label.py     â”‚     â”‚    â”‚
â”‚  â”‚  â”‚ - Task       â”‚  â”‚ - Comment    â”‚  â”‚ - Label      â”‚     â”‚    â”‚
â”‚  â”‚  â”‚ - TaskStatus â”‚  â”‚              â”‚  â”‚ - TaskLabel  â”‚     â”‚    â”‚
â”‚  â”‚  â”‚ - TaskPrior. â”‚  â”‚              â”‚  â”‚              â”‚     â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚    â”‚
â”‚  â”‚         â”‚                 â”‚                 â”‚              â”‚    â”‚
â”‚  â”‚         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚    â”‚
â”‚  â”‚         â”‚  â”‚                                                â”‚    â”‚
â”‚  â”‚         â–¼  â–¼                                                â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                          â”‚    â”‚
â”‚  â”‚  â”‚activity_log  â”‚                                          â”‚    â”‚
â”‚  â”‚  â”‚- ActivityLog â”‚                                          â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                          â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚  SQLite Database â”‚
                   â”‚ task_mgmt.db     â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### Data Flow for Complex Operations

#### GET Task with Relations (Eager Loading)

```
Client Request: GET /tasks/1?include_relations=true
                             â”‚
                             â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  FastAPI Route â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Get Session   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚         SQLModel Query Builder          â”‚
        â”‚                                         â”‚
        â”‚  select(Task)                          â”‚
        â”‚    .where(Task.id == 1)                â”‚
        â”‚    .options(                           â”‚
        â”‚      selectinload(Task.comments),      â”‚
        â”‚      selectinload(Task.task_labels)    â”‚
        â”‚        .selectinload(TaskLabel.label)  â”‚
        â”‚    )                                   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚         Database Queries                â”‚
        â”‚                                         â”‚
        â”‚  Query 1: SELECT * FROM tasks           â”‚
        â”‚           WHERE id = 1                  â”‚
        â”‚                                         â”‚
        â”‚  Query 2: SELECT * FROM comments        â”‚
        â”‚           WHERE task_id = 1             â”‚
        â”‚                                         â”‚
        â”‚  Query 3: SELECT * FROM task_labels     â”‚
        â”‚           WHERE task_id = 1             â”‚
        â”‚                                         â”‚
        â”‚  Query 4: SELECT * FROM labels          â”‚
        â”‚           WHERE id IN (...)             â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚      SQLModel Object Assembly           â”‚
        â”‚                                         â”‚
        â”‚  Task(                                  â”‚
        â”‚    id=1,                                â”‚
        â”‚    title="...",                         â”‚
        â”‚    comments=[Comment(...), ...],        â”‚
        â”‚    labels=[Label(...), ...]             â”‚
        â”‚  )                                      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   Convert to TaskReadWithRelations      â”‚
        â”‚   (Pydantic Serialization)              â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
                    JSON Response
```

---

### Error Handling Flow

```
                    Request Received
                          â”‚
                          â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  Pydantic Validation  â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                         â”‚
    âœ“ Valid                   âœ— Invalid
         â”‚                         â”‚
         â–¼                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Business Logic  â”‚      â”‚  422 Unprocessableâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚  Entity Response â”‚
         â”‚               â”‚  {detail: [...]}  â”‚
         â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Database Query  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
    â”‚         â”‚
âœ“ Success  âœ— Error
    â”‚         â”‚
    â”‚    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚    â”‚                       â”‚
    â”‚  Foreign Key         Unique Constraint
    â”‚  Violation           Violation
    â”‚    â”‚                       â”‚
    â”‚    â–¼                       â–¼
    â”‚  404 Not Found      409 Conflict
    â”‚  {detail: "..."}    {detail: "..."}
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 200/201 Success â”‚
â”‚ Response        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### Deployment Architecture (Future)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      PRODUCTION SETUP                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Internet   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚  Load Balancer  â”‚
                  â”‚   (Nginx/ALB)   â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚                â”‚                â”‚
          â–¼                â–¼                â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ FastAPI  â”‚     â”‚ FastAPI  â”‚    â”‚ FastAPI  â”‚
    â”‚ Instance â”‚     â”‚ Instance â”‚    â”‚ Instance â”‚
    â”‚   :8000  â”‚     â”‚   :8000  â”‚    â”‚   :8000  â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
         â”‚                â”‚                â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â”‚   PostgreSQL    â”‚
                 â”‚   (Primary DB)  â”‚
                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â”‚  Redis (Cache)  â”‚
                 â”‚   (Optional)    â”‚
                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ Interview Preparation Guide

### Key Technical Concepts to Explain

#### 1. Tech Stack Justification

**FastAPI**
- Async support for high performance
- Automatic API documentation (OpenAPI/Swagger)
- Type hints enable validation and IDE support
- Built-in dependency injection

**SQLModel**
- Single source of truth (one model for DB and API)
- Type-safe database operations
- Combines SQLAlchemy's power with Pydantic's validation
- Easy migration path to async with SQLModel + databases

**Pydantic**
- Automatic request/response validation
- Clear separation: Create/Update/Read schemas
- Prevents invalid data from reaching business logic
- JSON serialization with type conversion

#### 2. Design Patterns Implemented

- **Repository Pattern**: Separation of data models and API schemas
- **DTO Pattern**: Different schemas for different operations
- **Dependency Injection**: Database session management
- **Audit Trail**: ActivityLog for compliance and debugging
- **Cascade Delete**: Maintain referential integrity

#### 3. Request Lifecycle Explanation

When explaining the flow, mention:
1. **Entry Point**: ASGI server receives request
2. **Routing**: FastAPI matches endpoint
3. **Validation**: Pydantic validates input
4. **Dependency Resolution**: Session injection
5. **Business Logic**: CRUD operations
6. **ORM Translation**: SQLModel generates SQL
7. **Database Execution**: Transaction management
8. **Response Serialization**: Pydantic converts to JSON
9. **HTTP Response**: Status code + body

#### 4. Database Design Decisions

- **Indexes**: On frequently queried fields (status, priority, foreign keys)
- **Enums**: Type-safe status and priority values
- **Timestamps**: Automatic tracking with `default_factory`
- **Many-to-Many**: Junction table for task-label relationship
- **Cascade Delete**: Automatic cleanup of related records
- **Unique Constraints**: Prevent duplicate labels

#### 5. Scalability Considerations

**Current Architecture**:
- Stateless API (horizontal scaling ready)
- Connection pooling via SQLAlchemy
- Async-capable framework

**Future Enhancements**:
- Switch to PostgreSQL for production
- Add Redis for caching frequently accessed data
- Implement read replicas for query scaling
- Add message queue (Celery/RabbitMQ) for async tasks
- Container orchestration (Docker + Kubernetes)

#### 6. Security Best Practices

**Implemented**:
- Input validation (Pydantic prevents injection)
- Type safety (reduces runtime errors)
- CORS configuration

**To Implement**:
- JWT authentication
- Role-based access control (RBAC)
- Rate limiting
- SQL injection protection (parameterized queries)
- HTTPS enforcement
- API key management

#### 7. Performance Optimization

**Current**:
- Database indexes on key fields
- Lazy loading for relationships

**Planned**:
- Eager loading with `selectinload()` to prevent N+1 queries
- Response caching for read-heavy endpoints
- Database query optimization
- Connection pooling tuning
- Pagination for large result sets

---

## ğŸ’¡ Common Interview Questions & Answers

### Q: Why FastAPI over Flask/Django?

**Answer**: FastAPI provides automatic API documentation, built-in validation through Pydantic, async support for better performance, and type hints that catch errors at development time. For a modern REST API, these features significantly reduce boilerplate code and improve developer experience.

### Q: How do you handle database migrations?

**Answer**: Currently using SQLModel's `create_all()` for development. For production, I would integrate Alembic for version-controlled migrations, allowing safe schema changes without data loss.

### Q: Explain the many-to-many relationship implementation

**Answer**: Tasks and Labels have a many-to-many relationship through the `TaskLabel` junction table. This allows one task to have multiple labels and one label to be applied to multiple tasks. The junction table stores only the foreign keys, maintaining referential integrity.

### Q: How would you implement authentication?

**Answer**: I would use JWT tokens with FastAPI's OAuth2 password bearer. Create a `/token` endpoint for login, hash passwords with bcrypt, and use dependency injection to protect routes. Store user info in a separate `users` table with role-based permissions.

### Q: What's your error handling strategy?

**Answer**: Multi-layered approach:
1. Pydantic catches validation errors (422 responses)
2. Business logic raises HTTPException for domain errors
3. Database constraints trigger specific error codes (404, 409)
4. Global exception handler for unexpected errors (500)
5. ActivityLog tracks all operations for debugging

### Q: How do you prevent N+1 query problems?

**Answer**: Use SQLAlchemy's eager loading strategies like `selectinload()` or `joinedload()` when fetching related data. For example, when getting a task with comments and labels, load all relationships in a single query instead of separate queries per relationship.

### Q: Explain your schema separation strategy

**Answer**: Separate schemas for different operations:
- `TaskCreate`: Required fields for creation, includes `label_ids`
- `TaskUpdate`: All fields optional for partial updates
- `TaskRead`: Basic response without relations
- `TaskReadWithRelations`: Includes nested comments and labels

This prevents exposing internal fields and allows different validation rules per operation.

---

## ğŸ¤ Contributing

1. Fork the repository
2. Create a feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

---

## ğŸ“„ License

This project is licensed under the MIT License.

---

## ğŸ™ Acknowledgments

- FastAPI for the excellent web framework
- SQLModel for seamless ORM integration
- Pydantic for robust data validation

---

**Built with â¤ï¸ using FastAPI and SQLModel**
